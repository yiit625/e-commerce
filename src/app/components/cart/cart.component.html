<mat-card class="cart-list-wrapper">
  <div class="table-container">
    <table
      mat-table
      [dataSource]="dataSource"
    >
      <!-- Index Column -->
      <ng-container matColumnDef="position">
        <th mat-header-cell *matHeaderCellDef> Num.</th>
        <td mat-cell *matCellDef="let element; let i = index">{{i + 1}}</td>
      </ng-container>

      <!-- Image Column -->
      <ng-container matColumnDef="imageUrl">
        <th mat-header-cell *matHeaderCellDef>Product Image</th>
        <td mat-cell *matCellDef="let element">
          <img style="width: 120px" [src]="element.image" alt=""/></td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th *matHeaderCellDef mat-header-cell>Title</th>
        <td *matCellDef="let element" mat-cell>{{ element.title }}</td>
      </ng-container>

      <!-- Category Column -->
      <ng-container matColumnDef="category">
        <th *matHeaderCellDef mat-header-cell>Category</th>
        <td *matCellDef="let element" mat-cell>{{ element.category }}</td>
      </ng-container>

      <!-- Price Column -->
      <ng-container matColumnDef="price">
        <th *matHeaderCellDef mat-header-cell>Price ( $ {{ this.totalPrice | number : '1.2-2'}})</th>
        <td *matCellDef="let element" mat-cell>{{ element.price }}</td>
      </ng-container>

      <!-- Quantity Column -->
      <ng-container matColumnDef="quantity">
        <th *matHeaderCellDef mat-header-cell>Quantity</th>
        <td *matCellDef="let element" mat-cell>{{ element.quantity }}</td>
      </ng-container>

      <ng-container matColumnDef="delete">
        <th *matHeaderCellDef mat-header-cell>Action</th>
        <td *matCellDef="let element" mat-cell>

          <button class="button-increase" color="primary" matTooltip="Increase Quantity">
            <mat-icon (click)="addProduct(element)">add</mat-icon>
          </button>

          <button class="button-decrease" color="secondary" matTooltip="Decrease Quantity">
            <mat-icon (click)="minusProduct(element)">-</mat-icon>
          </button>

          <button class="button-delete" color="secondary" matTooltip="Remove product">
            <mat-icon class="btn-primary" (click)="removeProduct(element)">delete</mat-icon>
          </button>

        </td>
      </ng-container>

      <tr *matHeaderRowDef="displayedColumns" mat-header-row></tr>
      <tr *matRowDef="let row; columns: displayedColumns" mat-row></tr>
    </table>
    <mat-paginator
      (page)="onChangePage($event)"
      [pageIndex]="pageIndex"
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20, 50]"
      [showFirstLastButtons]="true"
    ></mat-paginator>
  </div>

</mat-card>

<button class="submitbutton" (click)="buyAll()">Buy All</button>

